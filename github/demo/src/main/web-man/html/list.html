<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <!-- import CSS -->
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
  <style>
    .el-row {
      margin-bottom: 20px;
      &:last-child {
        margin-bottom: 0;
      }
    }
    .el-col {
      border-radius: 4px;
    }
    .bg-purple-dark {
      background: #99a9bf;
    }
    .bg-purple {
      background: #d3dce6;
    }
    .bg-purple-light {
      background: #e5e9f2;
    }
    .grid-content {
      border-radius: 4px;
      min-height: 36px;
    }
    .row-bg {
      padding: 10px 0;
      background-color: #f9fafc;
    }
  </style>
</head>
<body>
    <h2>医生列表页面</h2>
 <div id="doctor-list-wraper">
     <div style="margin-left: 400px;">
        <template>
            <el-table
            :data="doctorPageTableData"
            style="width: 60%">
            <el-table-column
                v-if="false"
                prop="doctorId"
                label="医生id"
                width="180">
            </el-table-column>
            <el-table-column
                v-if="false"
                prop="venderId"
                label="商家id"
                width="180">
            </el-table-column>
            <el-table-column
                prop="name"
                label="姓名"
                width="180">
            </el-table-column>
            <el-table-column
                prop="doctorState"
                label="医生状态"
                width="180">
            </el-table-column>
            <el-table-column
                prop="auditState"
                label="审核状态"
                width="180">
            </el-table-column>
            <el-table-column label="操作">
                    <template slot-scope="scope">
                        <el-button
                        size="mini"
                        type="danger"
                        @click="handleAudit(scope.$index, scope.row)">审核</el-button>
                    </template>
                </el-table-column>
            </el-table>
        </template>
    </div>

    <!-- 测试开始-->

    <el-button @click="request">请求获取品牌</el-button>

    <!-- 测试结束-->

 </div>

</body>
  <!-- import Vue before Element -->
  <script src="https://unpkg.com/vue/dist/vue.js"></script>
  <!-- import JavaScript -->
  <script src="https://unpkg.com/element-ui/lib/index.js"></script>
  <script src="../static/js/jquery.min.js"></script>
  <script>
    var vm = new Vue({
      el: '#doctor-list-wraper',
      data: function() {
        return {
            doctorPageTableData:initDoctorPageTableData(),
        }
      },
      methods: {
        handleAudit(index, row){
            console.log("审核的数据 row = ", JSON.stringify(row));
            console.log("审核的数据 index = ", JSON.stringify(index));
            window.location.href = "file:///E:/vue/web-man/html/audit.html";
        },
        request(){
          console.log("请求");
          var data = {};
          ajax("http://localhost:8080/hello", data);
        }
      },
      mounted() {

      }
    });

    function initDoctorPageTableData() {
      var data = [{
          "doctorId":"doctor11",
          "venderId":"vender11",
          "name":"王医生",
          "doctorState":"上线",
          "auditState":"审核通过"
      }]; 
      return data;
  }

  function ajax(url, data) {
    $.ajax({
            url: url,
            type:"get",
            data:data,
            success:function(result){
              console.log("qa/user 的成功响应结果 = " + JSON.stringify(result));
            }
          });
        
  }

  function onBack() {
      console.log("qa/user 的成功响应结果 = " + JSON.stringify(result));
  }

  </script>

</html>